paths:
  /s/{spaceId}/api/actions/connector:
    post:
      requestBody:
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/create_connector_request_index_new'
components:
  schemas:
    create_connector_request_index_new:
      title: Create index connector request
      description: The index connector indexes a document into Elasticsearch.
      type: object
      required:
        - config
        - connector_type_id
        - name
      properties:
        config:
          $ref: '#/components/schemas/config_properties_index_new'
        connector_type_id:
          type: string
          description: The type of connector.
          enum:
            - .index
          example: .index
        name:
          type: string
          description: The display name for the connector.
          example: my-connector
    config_properties_index_new:
      title: Connector request properties for an index connector
      required:
        - index
      description: Defines properties for connectors when type is `.index`.
      type: object
      properties:
        executionTimeField:
          description: Specifies a field that will contain the time the alert condition was detected.
          default: null
          type: string
          nullable: true
        index:
          description: The Elasticsearch index to be written to.
          type: string
        refresh:
          description: |
            The refresh policy for the write request, which affects when changes are made visible to search. Refer to the refresh setting for Elasticsearch document APIs.
          default: false
          type: boolean
    connector_response_properties_index_new:
      title: Connector response properties for an index connector
      type: object
      required:
        - config
        - connector_type_id
        - id
        - is_deprecated
        - is_preconfigured
        - name
      properties:
        config:
          $ref: '#/components/schemas/config_properties_index_new'
        connector_type_id:
          type: string
          description: The type of connector.
          enum:
            - .index
        id:
          type: string
          description: The identifier for the connector.
        is_deprecated:
          $ref: '#/components/schemas/is_deprecated'
        is_missing_secrets:
          $ref: '#/components/schemas/is_missing_secrets'
        is_preconfigured:
          $ref: '#/components/schemas/is_preconfigured'
        name:
          type: string
          description: The display name for the connector.
    connector_response_properties:
      oneOf: 
        - $ref: '#/components/schemas/connector_response_properties_index_new'

